<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Speeky | Absolute Core v13</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;900&display=swap" rel="stylesheet">
    <style>
        :root { --accent: #00f2ff; --bg: #000; --card: #11141b; --border: rgba(255,255,255,0.08); }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: #fff; height: 100vh; overflow: hidden; position: fixed; width: 100%; }

        /* –§–û–ù */
        #universe { position: fixed; inset: 0; z-index: -1; background: radial-gradient(circle at 50% 50%, #05080c 0%, #000 100%); }
        .fluid { position: absolute; border-radius: 50%; filter: blur(120px); opacity: 0.1; will-change: transform; }

        /* –ö–û–ù–¢–ï–ô–ù–ï–†–´ */
        .view { position: absolute; inset: 0; display: none; flex-direction: column; background: var(--bg); padding-bottom: 100px; }
        .view.active { display: flex; z-index: 10; }
        .content-scroll { flex: 1; overflow-y: auto; padding: 20px; }

        /* –°–ü–ò–°–û–ö –ß–ê–¢–û–í */
        .chat-item { display: flex; align-items: center; padding: 15px; background: rgba(255,255,255,0.03); border-radius: 22px; margin-bottom: 10px; cursor: pointer; border: 1px solid transparent; transition: 0.2s; }
        .chat-item:active { transform: scale(0.98); background: rgba(0,242,255,0.05); border-color: var(--border); }
        .chat-avatar { width: 55px; height: 55px; border-radius: 50%; background: var(--accent); margin-right: 15px; display: flex; align-items: center; justify-content: center; font-weight: 900; color: #000; font-size: 20px; }
        .chat-info { flex: 1; }
        .chat-top { display: flex; justify-content: space-between; margin-bottom: 4px; }
        .chat-name { font-weight: 700; font-size: 16px; }
        .chat-time { font-size: 12px; opacity: 0.4; }
        .chat-msg { font-size: 14px; opacity: 0.5; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 200px; }

        /* –ù–ê–í–ò–ì–ê–¶–ò–Ø (DOCK) */
        .dock { position: fixed; bottom: 25px; left: 20px; right: 20px; height: 70px; background: rgba(15,18,25,0.9); border: 1px solid var(--border); border-radius: 30px; display: flex; align-items: center; justify-content: space-around; backdrop-filter: blur(20px); z-index: 1000; }
        .nav-btn { display: flex; flex-direction: column; align-items: center; gap: 5px; cursor: pointer; opacity: 0.3; transition: 0.3s; }
        .nav-btn.active { opacity: 1; color: var(--accent); }
        .nav-btn span { font-size: 10px; font-weight: 700; text-transform: uppercase; }

        /* –ì–†–£–ü–ü–´ –ù–ê–°–¢–†–û–ï–ö (TG STYLE) */
        .section-label { font-size: 13px; color: var(--accent); font-weight: 700; text-transform: uppercase; margin: 25px 0 10px 10px; letter-spacing: 0.5px; }
        .group { background: var(--card); border-radius: 20px; overflow: hidden; border: 1px solid var(--border); }
        .row { display: flex; align-items: center; padding: 16px 20px; border-bottom: 1px solid var(--border); cursor: pointer; }
        .row:last-child { border-bottom: none; }
        
        /* AUTH */
        .auth-view { display: flex; align-items: center; justify-content: center; padding: 40px; }
        input { width: 100%; background: #0d1117; border: 1px solid var(--border); padding: 18px; border-radius: 15px; color: #fff; margin-bottom: 12px; }
    </style>
</head>
<body>

    <div id="universe"></div>

    <section id="view-auth" class="view auth-view">
        <div style="width:100%; text-align:center;">
            <h1 style="font-size:45px; margin-bottom:10px;">Speeky</h1>
            <p style="opacity:0.4; margin-bottom:40px;">–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</p>
            <input type="text" id="reg-name" placeholder="–ù–∏–∫–Ω–µ–π–º">
            <input type="email" id="reg-email" placeholder="Email (—Ä–µ–∞–ª—å–Ω—ã–π)">
            <button onclick="register()" style="width:100%; padding:20px; background:var(--accent); border:none; border-radius:15px; font-weight:900; color:#000;">–ò–ù–ò–¶–ò–ê–õ–ò–ó–ò–†–û–í–ê–¢–¨</button>
        </div>
    </section>

    <section id="view-chats" class="view">
        <div class="content-scroll">
            <h1 style="margin-bottom:25px;">–°–≤—è–∑–∏</h1>
            <div id="chat-list-container">
                <div class="chat-item">
                    <div class="chat-avatar" style="background:#ff00f2">–ú</div>
                    <div class="chat-info">
                        <div class="chat-top"><span class="chat-name">–ú–∞–∫—Å–∏–º</span><span class="chat-time">14:05</span></div>
                        <div class="chat-msg">–ë—Ä–æ, –∫–æ–≥–¥–∞ –¥–æ–ø–∏–ª–∏–º –æ–±–ª–∞–∫–æ?</div>
                    </div>
                </div>
                <div class="chat-item">
                    <div class="chat-avatar" style="background:#00ff88">A</div>
                    <div class="chat-info">
                        <div class="chat-top"><span class="chat-name">–ê–Ω–Ω–∞ (–î–∏–∑–∞–π–Ω)</span><span class="chat-time">12:40</span></div>
                        <div class="chat-msg">–°–∫–∏–Ω—É–ª–∞ –Ω–æ–≤—ã–µ –∏–∫–æ–Ω–∫–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫</div>
                    </div>
                </div>
                <div class="chat-item">
                    <div class="chat-avatar">S</div>
                    <div class="chat-info">
                        <div class="chat-top"><span class="chat-name">Speeky Bot</span><span class="chat-time">–í—á–µ—Ä–∞</span></div>
                        <div class="chat-msg">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Core v13!</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="view-sets" class="view">
        <div class="content-scroll">
            <div style="text-align:center; padding:30px 0;">
                <div id="qrcode" style="background:#fff; padding:10px; border-radius:15px; display:inline-block; margin-bottom:15px;"></div>
                <h2 id="u-nick" style="color:var(--accent)">@...</h2>
            </div>
            
            <div class="section-label">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
            <div class="group">
                <div class="row" onclick="alert('–ù–∏–∫: ' + user.name)">üë§ –ê–∫–∫–∞—É–Ω—Ç <span style="margin-left:auto; opacity:0.3;">‚ûî</span></div>
                <div class="row">üíæ –î–∞–Ω–Ω—ã–µ –∏ –ø–∞–º—è—Ç—å <span style="margin-left:auto; opacity:0.3;">‚ûî</span></div>
                <div class="row">üì± –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ <span style="margin-left:auto; opacity:0.3;">‚ûî</span></div>
            </div>
            <div class="row" style="color:#ff4d4d; justify-content:center; margin-top:20px;" onclick="logout()">–î–ï–ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨ –°–ï–°–°–ò–Æ</div>
        </div>
    </section>

    <nav class="dock" id="dock" style="display:none;">
        <div class="nav-btn active" id="btn-chats" onclick="nav('chats')">
            <span style="font-size:24px;">üì°</span><span>–°–≤—è–∑–∏</span>
        </div>
        <div class="nav-btn" id="btn-sets" onclick="nav('sets')">
            <span style="font-size:24px;">üíé</span><span>–Ø–¥—Ä–æ</span>
        </div>
    </nav>

    <script>
        const KEY = 'SPEEKY_ULTRA_CORE_V13';
        let user = JSON.parse(localStorage.getItem(KEY));

        // –§–û–ù
        for(let i=0; i<4; i++) {
            const f = document.createElement('div'); f.className = 'fluid';
            f.style.width = f.style.height = '400px'; f.style.background = 'rgba(0,242,255,0.06)';
            f.style.left = Math.random()*100+'%'; f.style.top = Math.random()*100+'%';
            document.getElementById('universe').appendChild(f);
            gsap.to(f, { x: "random(-100, 100)", y: "random(-100, 100)", duration: 15, repeat: -1, yoyo: true });
        }

        function nav(page) {
            document.querySelectorAll('.view').forEach(v => {
                if(v.classList.contains('active')) {
                    gsap.to(v, { opacity:0, duration:0.2, onComplete:()=>v.style.display='none' });
                    v.classList.remove('active');
                }
            });
            const t = document.getElementById('view-'+page);
            t.style.display = 'flex';
            gsap.fromTo(t, { opacity:0 }, { opacity:1, duration:0.2 });
            t.classList.add('active');

            // –ö–Ω–æ–ø–∫–∏ –¥–æ–∫–∞
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            const activeBtn = document.getElementById('btn-'+page);
            if(activeBtn) activeBtn.classList.add('active');
        }

        function register() {
            const n = document.getElementById('reg-name').value;
            const e = document.getElementById('reg-email').value;
            if(n && e) {
                localStorage.setItem(KEY, JSON.stringify({name:n, email:e}));
                location.reload();
            }
        }

        function logout() { localStorage.removeItem(KEY); location.reload(); }

        window.onload = () => {
            if (!user) {
                nav('auth');
            } else {
                document.getElementById('dock').style.display = 'flex';
                document.getElementById('u-nick').innerText = '@' + user.name;
                new QRCode(document.getElementById("qrcode"), { text: user.name, width: 130, height: 130 });
                nav('chats');
            }
        };
    </script>
</body>
</html>
