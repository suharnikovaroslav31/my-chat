<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Speeky | Absolute Core v11</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --accent: #00f2ff; --bg: #000; --border: rgba(0, 242, 255, 0.1); --card: rgba(15, 18, 25, 0.9); }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: #fff; height: 100vh; overflow: hidden; position: fixed; width: 100%; }

        /* –ñ–ò–í–û–ô –§–û–ù */
        #universe { position: fixed; inset: 0; z-index: -1; }
        .fluid { position: absolute; border-radius: 50%; filter: blur(100px); opacity: 0.1; will-change: transform; }

        /* –ò–ù–¢–ï–†–§–ï–ô–° */
        .view { position: absolute; inset: 0; display: none; padding: 30px 20px 100px; flex-direction: column; overflow-y: auto; }
        .view.active { display: flex; z-index: 10; }
        .card { background: var(--card); border: 1px solid var(--border); border-radius: 30px; padding: 25px; backdrop-filter: blur(30px); margin-bottom: 15px; }

        /* –≠–õ–ï–ú–ï–ù–¢–´ –ù–ê–°–¢–†–û–ï–ö */
        .set-row { display: flex; justify-content: space-between; align-items: center; padding: 18px; background: rgba(255,255,255,0.03); border-radius: 20px; margin-bottom: 8px; cursor: pointer; transition: 0.2s; }
        .set-row:active { background: rgba(0, 242, 255, 0.1); transform: scale(0.98); }
        .set-row.no-click { cursor: default; }
        .set-row.no-click:active { transform: none; }
        .val { color: var(--accent); font-size: 14px; font-weight: 700; }
        .desc { font-size: 12px; opacity: 0.4; margin-top: 4px; }

        .back-btn { font-size: 14px; color: var(--accent); margin-bottom: 25px; cursor: pointer; display: flex; align-items: center; gap: 8px; }
        h1 { font-size: 32px; font-weight: 900; margin-bottom: 25px; letter-spacing: -1px; }

        .dock { position: fixed; bottom: 25px; left: 15px; right: 15px; background: rgba(0,0,0,0.9); border: 1px solid var(--border); padding: 18px; border-radius: 30px; display: none; justify-content: space-around; z-index: 1000; }
        .dock i { font-size: 24px; opacity: 0.3; transition: 0.4s; }
        .dock i.active { opacity: 1; color: var(--accent); transform: scale(1.2); }
    </style>
</head>
<body>

    <div id="universe"></div>

    <section id="view-sets" class="view">
        <h1>–Ø–¥—Ä–æ</h1>
        <div class="card" style="text-align:center;">
            <div id="qrcode" style="background:#fff; padding:10px; border-radius:15px; display:inline-block; margin-bottom:15px;"></div>
            <h2 id="m-nick" style="color:var(--accent); font-size:24px;">@...</h2>
        </div>
        
        <div class="set-row" onclick="nav('set-acc')"><div>–ê–∫–∫–∞—É–Ω—Ç<div class="desc">–ü–æ—á—Ç–∞, –¥–∞—Ç–∞, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</div></div><span class="val">‚ûî</span></div>
        <div class="set-row" onclick="nav('set-chats')"><div>–ß–∞—Ç—ã<div class="desc">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ, —Ñ–∏–ª—å—Ç—Ä—ã, –∏—Å—Ç–æ—Ä–∏—è</div></div><span class="val">‚ûî</span></div>
        <div class="set-row" onclick="nav('set-data')"><div>–î–∞–Ω–Ω—ã–µ –∏ –ø–∞–º—è—Ç—å<div class="desc">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞</div></div><span class="val">‚ûî</span></div>
        <div class="set-row" onclick="nav('set-dev')"><div>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞<div class="desc">–ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –∏ –≤—Ö–æ–¥—ã</div></div><span class="val">‚ûî</span></div>
        <div class="set-row" onclick="nav('set-lang')"><div>–Ø–∑—ã–∫<div class="desc">–í—ã–±–æ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</div></div><span class="val">RU</span></div>
    </section>

    <section id="view-set-acc" class="view">
        <div class="back-btn" onclick="nav('sets')">‚Üê –ù–∞–∑–∞–¥ –≤ –Ø–¥—Ä–æ</div>
        <h1>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞</h1>
        <div class="card">
            <div style="margin-bottom:15px;">
                <div class="desc">–í–∞—à Email</div>
                <div id="acc-email" style="font-weight:700;">...</div>
            </div>
            <div>
                <div class="desc">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</div>
                <div id="acc-date" style="font-weight:700;">...</div>
            </div>
        </div>
        <div class="set-row" style="color:#ff4d4d" onclick="logout()">–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</div>
    </section>

    <section id="view-set-dev" class="view">
        <div class="back-btn" onclick="nav('sets')">‚Üê –ù–∞–∑–∞–¥</div>
        <h1>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</h1>
        <div class="desc" style="margin-bottom:15px; padding-left:5px;">–¢–ï–ö–£–©–ò–ô –°–ï–ê–ù–°</div>
        <div class="card">
            <div id="dev-name" style="color:var(--accent); font-weight:900; margin-bottom:5px;">–û–ø—Ä–µ–¥–µ–ª—è–µ–º...</div>
            <div id="dev-time" class="desc">–í—Ö–æ–¥: —Ç–æ–ª—å–∫–æ —á—Ç–æ</div>
        </div>
        <button class="set-row" style="width:100%; border:none; text-align:left; color:var(--accent)">–ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å–µ –¥—Ä—É–≥–∏–µ —Å–µ–∞–Ω—Å—ã</button>
    </section>

    <section id="view-set-data" class="view">
        <div class="back-btn" onclick="nav('sets')">‚Üê –ù–∞–∑–∞–¥</div>
        <h1>–î–∞–Ω–Ω—ã–µ –∏ –ø–∞–º—è—Ç—å</h1>
        <div class="card">
            <div class="set-row no-click" style="background:none; padding:0;">
                <div>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ Speeky</div>
                <div class="val" id="storage-size">0.02 MB</div>
            </div>
            <div style="width:100%; height:4px; background:rgba(255,255,255,0.1); border-radius:2px; margin:15px 0;">
                <div style="width:10%; height:100%; background:var(--accent); border-radius:2px;"></div>
            </div>
        </div>
        <div class="set-row" onclick="alert('–ö—ç—à –æ—á–∏—â–µ–Ω')">–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</div>
        <div class="set-row">–≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ <span class="val">–í–´–ö–õ</span></div>
    </section>

    <section id="view-set-chats" class="view">
        <div class="back-btn" onclick="nav('sets')">‚Üê –ù–∞–∑–∞–¥</div>
        <h1>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Ç–æ–≤</h1>
        <div class="set-row">–†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ <span class="val">15px</span></div>
        <div class="set-row">–ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π <span class="val">–û–¢–ö–õ</span></div>
        <div class="set-row">–°–∫—Ä—ã–≤–∞—Ç—å –≤—Ä–µ–º—è <span class="val">–ù–ï–¢</span></div>
    </section>

    <section id="view-set-lang" class="view">
        <div class="back-btn" onclick="nav('sets')">‚Üê –ù–∞–∑–∞–¥</div>
        <h1>–Ø–∑—ã–∫</h1>
        <div class="set-row" onclick="alert('–£–∂–µ –≤—ã–±—Ä–∞–Ω–æ')">–†—É—Å—Å–∫–∏–π (RU) <span class="val">‚úì</span></div>
        <div class="set-row">English (EN)</div>
    </section>

    <nav class="dock" id="dock"><i id="btn-chats" onclick="location.reload()">üì°</i><i id="btn-sets" onclick="nav('sets')" class="active">üíé</i></nav>

    <script>
        const KEY = 'SPEEKY_ULTRA_CORE_V11';
        let user = JSON.parse(localStorage.getItem(KEY));

        // –û–ñ–ò–í–õ–ï–ù–ò–ï –§–û–ù–ê (GSAP)
        for(let i=0; i<5; i++) {
            const f = document.createElement('div'); f.className = 'fluid';
            f.style.width = f.style.height = Math.random()*400 + 300 + 'px';
            f.style.background = `radial-gradient(circle, ${i%2===0?'#00f2ff22':'#7000ff11'}, transparent)`;
            f.style.left = Math.random()*100+'%'; f.style.top = Math.random()*100+'%';
            document.getElementById('universe').appendChild(f);
            gsap.to(f, { x: "random(-150, 150)", y: "random(-150, 150)", duration: "random(10, 20)", repeat: -1, yoyo: true, ease: "sine.inOut" });
        }

        function nav(page) {
            const all = document.querySelectorAll('.view');
            const target = document.getElementById('view-'+page);
            
            all.forEach(v => {
                if(v.classList.contains('active')) {
                    gsap.to(v, { opacity:0, x: -30, duration:0.3, onComplete:()=>v.style.display='none' });
                    v.classList.remove('active');
                }
            });

            target.style.display = 'flex';
            gsap.fromTo(target, { opacity:0, x: 30 }, { opacity:1, x:0, duration:0.3 });
            target.classList.add('active');

            // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫–æ–º
            const isSubPage = page.startsWith('set-');
            document.getElementById('dock').style.display = isSubPage ? 'none' : 'flex';
        }

        function logout() { if(confirm("–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞?")) { localStorage.removeItem(KEY); location.reload(); } }

        window.onload = () => {
            if(!user) {
                // –ï—Å–ª–∏ –Ω–µ—Ç —é–∑–µ—Ä–∞, –∫–∏–¥–∞–µ–º –Ω–∞ —Ä–µ–≥—É (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º –Ω–∞–ª–∏—á–∏–µ –≤ –∫–æ–¥–µ –≤—ã—à–µ)
                alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.");
                return;
            }

            // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
            document.getElementById('m-nick').innerText = '@' + user.name;
            document.getElementById('acc-email').innerText = user.email;
            document.getElementById('acc-date').innerText = user.date || new Date().toLocaleDateString();
            
            // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
            const browser = (function(){
                let ua = navigator.userAgent, tem, 
                M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [];
                if(/trident/i.test(M[1])){ tem = /\brv[ :]+(\d+)/g.exec(ua) || []; return 'IE '+(tem[1] || ''); }
                if(M[1] === 'Chrome'){ tem = ua.match(/\b(OPR|Edge)\/(\d+)/); if(tem != null) return tem.slice(1).join(' ').replace('OPR', 'Opera'); }
                M = M[2]? [M[1], M[2]]: [navigator.appName, navigator.appVersion, '-?'];
                if((tem = ua.match(/version\/(\d+)/i)) != null) M.splice(1, 1, tem[1]);
                return M.join(' ');
            })();
            document.getElementById('dev-name').innerText = browser + " (" + navigator.platform + ")";
            document.getElementById('dev-time').innerText = "–ê–∫—Ç–∏–≤–µ–Ω —Å–µ–π—á–∞—Å ‚Ä¢ " + (user.time || "–¢–æ–ª—å–∫–æ —á—Ç–æ");

            // QR –ö–æ–¥
            new QRCode(document.getElementById("qrcode"), { text: user.name, width: 130, height: 130, colorDark: "#000", colorLight: "#fff" });

            nav('sets');
        };
    </script>
</body>
</html>
