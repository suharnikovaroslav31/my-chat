<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Speeky | Absolute Singularity</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;900&display=swap" rel="stylesheet">
    <style>
        :root { --accent: #00f2ff; --bg: #000; --card: #11141b; --border: rgba(0, 242, 255, 0.1); --tg-bg: #0e1218; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: #fff; height: 100vh; overflow: hidden; position: fixed; width: 100%; }

        /* –ù–ï–û–ù–û–í–´–ô –§–û–ù */
        #universe { position: fixed; inset: 0; z-index: -1; background: radial-gradient(circle at 50% 50%, #050a10 0%, #000 100%); }
        .orb { position: absolute; border-radius: 50%; filter: blur(80px); opacity: 0.15; will-change: transform; pointer-events: none; }

        /* –≠–ö–†–ê–ù–´ */
        .view { position: absolute; inset: 0; display: none; flex-direction: column; padding: 20px; overflow-y: auto; background: var(--bg); padding-bottom: 110px; z-index: 5; }
        .view.active { display: flex; z-index: 10; }

        /* –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø (–ñ–ï–°–¢–ö–ê–Ø –ü–†–û–í–ï–†–ö–ê) */
        .auth-box { margin: auto; width: 100%; max-width: 400px; text-align: center; perspective: 1000px; }
        .input-group { position: relative; margin-bottom: 15px; }
        input { width: 100%; background: #0d1117; border: 1px solid var(--border); padding: 20px; border-radius: 20px; color: #fff; font-size: 16px; transition: 0.3s; outline: none; }
        input:focus { border-color: var(--accent); box-shadow: 0 0 25px rgba(0, 242, 255, 0.15); }
        .error-hint { font-size: 11px; color: #ff4d4d; text-align: left; padding: 5px 15px; display: none; }

        /* –ü–£–°–¢–´–ï –ß–ê–¢–´ (TG STYLE) */
        .empty-chats { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 40px; }
        .empty-icon { font-size: 80px; margin-bottom: 20px; filter: drop-shadow(0 0 20px var(--accent)); animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 0.4; } 50% { opacity: 1; } 100% { opacity: 0.4; } }

        /* –ì–†–£–ü–ü–´ –ù–ê–°–¢–†–û–ï–ö */
        .section-label { font-size: 12px; color: var(--accent); font-weight: 800; text-transform: uppercase; margin: 25px 0 10px 10px; letter-spacing: 1px; }
        .group { background: var(--card); border-radius: 25px; overflow: hidden; border: 1px solid var(--border); }
        .row { display: flex; align-items: center; padding: 18px 20px; border-bottom: 1px solid var(--border); cursor: pointer; transition: 0.2s; }
        .row:last-child { border-bottom: none; }
        .row:active { background: rgba(0, 242, 255, 0.05); }
        .ico { width: 36px; height: 36px; background: rgba(0, 242, 255, 0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 15px; color: var(--accent); }
        .txt { flex: 1; }
        .title { font-size: 15px; font-weight: 600; }
        .sub { font-size: 12px; opacity: 0.4; margin-top: 3px; }
        .val { font-size: 14px; color: var(--accent); font-weight: 700; }

        /* –î–û–ö-–ë–ê–† */
        .dock { position: fixed; bottom: 25px; left: 20px; right: 20px; height: 75px; background: rgba(0,0,0,0.85); border: 1px solid var(--border); border-radius: 30px; display: none; align-items: center; justify-content: space-around; backdrop-filter: blur(20px); z-index: 1000; }
        .dock-btn { font-size: 26px; opacity: 0.3; transition: 0.3s; cursor: pointer; }
        .dock-btn.active { opacity: 1; color: var(--accent); transform: scale(1.2) translateY(-5px); }

        /* –†–ï–ê–õ–¨–ù–´–ï –°–í–ò–¢–ß–ò */
        .switch { width: 40px; height: 22px; background: #333; border-radius: 20px; position: relative; transition: 0.3s; }
        .switch::after { content: ''; position: absolute; top: 2px; left: 2px; width: 18px; height: 18px; background: #fff; border-radius: 50%; transition: 0.3s; }
        .switch.on { background: var(--accent); }
        .switch.on::after { left: 20px; }
    </style>
</head>
<body>

    <div id="universe"></div>

    <section id="view-auth" class="view">
        <div class="auth-box">
            <h1 style="font-size: 50px; font-weight: 900; margin-bottom: 5px; letter-spacing: -2px;">Speeky</h1>
            <p style="opacity:0.4; margin-bottom:40px;">Hardware-level Encryption</p>
            
            <div class="input-group">
                <input type="text" id="reg-name" placeholder="Username (min 3 chars)">
                <div id="err-name" class="error-hint">–¢–æ–ª—å–∫–æ –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã, –æ—Ç 3 —Å–∏–º–≤–æ–ª–æ–≤</div>
            </div>
            <div class="input-group">
                <input type="email" id="reg-email" placeholder="Real Email Address">
                <div id="err-email" class="error-hint">–í–≤–µ–¥–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –ø–æ—á—Ç—ã</div>
            </div>
            
            <button onclick="attemptAuth()" class="row" style="width:100%; background:var(--accent); color:#000; justify-content:center; border-radius:20px; font-weight:900; border:none; margin-top:10px;">–ò–ù–ò–¶–ò–ê–õ–ò–ó–ò–†–û–í–ê–¢–¨ –°–ï–°–°–ò–Æ</button>
        </div>
    </section>

    <section id="view-chats" class="view">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
            <h1 style="font-size:32px;">–°–≤—è–∑–∏</h1>
            <span style="color:var(--accent); font-weight:700;">+ –ü–û–ò–°–ö</span>
        </div>
        <div class="empty-chats">
            <div class="empty-icon">üõ∞Ô∏è</div>
            <h3 style="margin-bottom:10px; font-size:20px;">–°–∏–≥–Ω–∞–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç</h3>
            <p style="opacity:0.4; font-size:14px; line-height:1.5;">–°–∫–æ—Ä–æ –∑–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è —Ç–≤–æ–π –ø–µ—Ä–≤—ã–π –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —á–∞—Ç.<br>–î–æ–±–∞–≤—å –∫–æ–Ω—Ç–∞–∫—Ç, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.</p>
        </div>
    </section>

    <section id="view-sets" class="view">
        <div style="text-align:center; padding:30px 0;">
            <div id="qrcode" style="background:#fff; padding:12px; border-radius:22px; display:inline-block; margin-bottom:20px; box-shadow: 0 0 30px rgba(0,242,255,0.2);"></div>
            <h2 id="u-nick" style="font-size:30px; font-weight:900;">@User</h2>
            <p id="u-email" style="opacity:0.4;"></p>
        </div>

        <div class="group">
            <div class="row" onclick="nav('set-acc')"><div class="ico">üë§</div><div class="txt"><div class="title">–ê–∫–∫–∞—É–Ω—Ç</div><div class="sub">–î–∞–Ω–Ω—ã–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</div></div><div class="val">‚ûî</div></div>
            <div class="row" onclick="nav('set-chats')"><div class="ico">üí¨</div><div class="txt"><div class="title">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Ç–æ–≤</div><div class="sub">–¢–µ–º—ã, —É–¥–∞–ª–µ–Ω–∏–µ, —Ñ–∏–ª—å—Ç—Ä—ã</div></div><div class="val">‚ûî</div></div>
            <div class="row" onclick="nav('set-data')"><div class="ico">üìä</div><div class="txt"><div class="title">–î–∞–Ω–Ω—ã–µ –∏ –ø–∞–º—è—Ç—å</div><div class="sub">–ö—ç—à: 0.00 MB</div></div><div class="val">‚ûî</div></div>
            <div class="row" onclick="nav('set-dev')"><div class="ico">üì±</div><div class="txt"><div class="title">–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</div><div class="sub">–ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏</div></div><div class="val">‚ûî</div></div>
        </div>

        <div class="section-label">–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã</div>
        <div class="group">
            <div class="row"><div class="txt"><div class="title">Matrix Mode</div><div class="sub">–ù–µ—Ä–µ–∞–ª—å–Ω—ã–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç</div></div><div class="switch on"></div></div>
        </div>
    </section>

    <section id="view-set-dev" class="view">
        <div style="cursor:pointer; color:var(--accent); margin-bottom:20px;" onclick="nav('sets')">‚Üê –ù–ê–ó–ê–î</div>
        <h1>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</h1>
        <div class="section-label">–¢–µ–∫—É—â–µ–µ</div>
        <div class="group"><div class="row"><div class="ico">üíª</div><div class="txt"><div class="title" id="dev-info">Detecting...</div><div class="sub">Speeky Absolute v1.0</div></div><div class="val">ONLINE</div></div></div>
        <div class="section-label">–î—Ä—É–≥–∏–µ —Å–µ—Å—Å–∏–∏</div>
        <p style="padding:20px; opacity:0.3; text-align:center; font-size:12px;">–î—Ä—É–≥–∏—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ.</p>
    </section>

    <nav class="dock" id="dock">
        <div class="dock-btn" id="d-chats" onclick="nav('chats')">üì°</div>
        <div class="dock-btn" id="d-sets" onclick="nav('sets')">üíé</div>
    </nav>

    <script>
        const STORAGE_KEY = 'SPEEKY_FINAL_SESSION';
        let user = JSON.parse(localStorage.getItem(STORAGE_KEY));

        // 1. –û–ñ–ò–í–õ–ï–ù–ò–ï –ù–ï–ë–ê
        for(let i=0; i<5; i++) {
            const orb = document.createElement('div'); orb.className = 'orb';
            orb.style.width = orb.style.height = Math.random()*500 + 200 + 'px';
            orb.style.background = `radial-gradient(circle, ${i%2?'#00f2ff':'#7000ff'}, transparent)`;
            orb.style.left = Math.random()*100+'%'; orb.style.top = Math.random()*100+'%';
            document.getElementById('universe').appendChild(orb);
            gsap.to(orb, { x: "random(-100, 100)", y: "random(-100, 100)", duration: 15, repeat: -1, yoyo: true });
        }

        // 2. –ñ–ï–°–¢–ö–ê–Ø –ù–ê–í–ò–ì–ê–¶–ò–Ø
        function nav(page) {
            const all = document.querySelectorAll('.view');
            const target = document.getElementById('view-' + page);
            
            all.forEach(v => {
                if(v.classList.contains('active')) {
                    gsap.to(v, { opacity: 0, x: -30, scale: 0.95, duration: 0.3, onComplete: () => v.style.display = 'none' });
                    v.classList.remove('active');
                }
            });

            target.style.display = 'flex';
            gsap.fromTo(target, { opacity: 0, x: 30, scale: 1.05 }, { opacity: 1, x: 0, scale: 1, duration: 0.3 });
            target.classList.add('active');

            // –î–æ–∫-–±–∞—Ä
            const isSub = page.startsWith('set-');
            document.getElementById('dock').style.display = (user && !isSub) ? 'flex' : 'none';
            document.querySelectorAll('.dock-btn').forEach(b => b.classList.remove('active'));
            if(page === 'chats') document.getElementById('d-chats').classList.add('active');
            if(page === 'sets') document.getElementById('d-sets').classList.add('active');
        }

        // 3. –ñ–ï–°–¢–ö–ê–Ø –í–ê–õ–ò–î–ê–¶–ò–Ø
        function attemptAuth() {
            const name = document.getElementById('reg-name').value.trim();
            const email = document.getElementById('reg-email').value.trim();
            const eName = document.getElementById('err-name');
            const eEmail = document.getElementById('err-email');
            
            const isNameValid = /^[a-zA-Z0-9–∞-—è–ê-–Ø]{3,}$/.test(name);
            const isEmailValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);

            eName.style.display = isNameValid ? 'none' : 'block';
            eEmail.style.display = isEmailValid ? 'none' : 'block';

            if(isNameValid && isEmailValid) {
                user = { name, email, date: new Date().toLocaleDateString() };
                localStorage.setItem(STORAGE_KEY, JSON.stringify(user));
                initSystem();
            }
        }

        // 4. –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
        function initSystem() {
            if(!user) {
                nav('auth');
            } else {
                document.getElementById('u-nick').innerText = '@' + user.name;
                document.getElementById('u-email').innerText = user.email;
                document.getElementById('dev-info').innerText = navigator.platform + ' / ' + (navigator.userAgent.includes('Chrome') ? 'Chrome Engine' : 'WebCore');
                
                // QR
                const qrCont = document.getElementById("qrcode");
                qrCont.innerHTML = '';
                new QRCode(qrCont, { text: user.name, width: 140, height: 140, colorDark: "#000", colorLight: "#fff" });
                
                nav('chats');
            }
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏
        document.addEventListener('click', e => {
            if(e.target.classList.contains('switch')) e.target.classList.toggle('on');
        });

        window.onload = initSystem;
    </script>
</body>
</html>
